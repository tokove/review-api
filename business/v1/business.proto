syntax = "proto3";

package api.business.v1;

import "google/api/annotations.proto";
import "validate/validate.proto";

option go_package = "review-business/api/business/v1;v1";
option java_multiple_files = true;
option java_package = "api.business.v1";

// 商家端服务
service Business {
    // 商家回复用户评价
  rpc ReplyReview(ReplyReviewRequest) returns (ReplyReviewReply) {
    option (google.api.http) = {
      post: "/business/v1/review/reply"
      body: "*"
    };
  };
  // 商家申诉用户评价
  rpc AppealReview(AppealReviewRequest) returns (AppealReviewReply) {
    option (google.api.http) = {
      post: "/business/v1/review/appeal"
      body: "*"
    };
  };
}

// 回复评论的参数
message ReplyReviewRequest {
  int64  review_id  = 1 [(validate.rules).int64 = {gt: 0}];
  int64  store_id   = 2 [(validate.rules).int64 = {gt: 0}];
  string content    = 3 [(validate.rules).string = {min_len: 8, max_len: 255}];
  string pic_info   = 4;
  string video_info = 5;
}

// 回复评论的回复
message ReplyReviewReply {
  int64 reply_id = 1;
}
// 申诉评论的参数
message AppealReviewRequest {
  int64  review_id  = 1 [(validate.rules).int64 = {gt: 0}];
  int64  store_id   = 2 [(validate.rules).int64 = {gt: 0}];
  string reason    = 3 [(validate.rules).string = {min_len: 2, max_len: 200}];
  string content   = 4 [(validate.rules).string = {min_len: 2, max_len: 200}];
  string pic_info  = 5;
  string video_info = 6;
} 
// 申诉评论的回复
message AppealReviewReply {
  int64 appeal_id = 1;
}